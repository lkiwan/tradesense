{% extends "base.html" %}

{% block title %}Payout {{ payout.status|title }} - TradeSense{% endblock %}

{% block header %}
<tr>
    <td class="header" style="background: {% if payout.status == 'completed' %}linear-gradient(135deg, #10B981, #059669){% elif payout.status == 'pending' or payout.status == 'approved' %}linear-gradient(135deg, #F59E0B, #D97706){% else %}linear-gradient(135deg, #EF4444, #DC2626){% endif %};">
        <div style="width: 60px; height: 60px; background-color: rgba(255,255,255,0.2); border-radius: 50%; margin: 0 auto 15px; line-height: 60px;">
            {% if payout.status == 'completed' %}
            <span style="font-size: 30px; color: white;">&#10003;</span>
            {% elif payout.status == 'rejected' %}
            <span style="font-size: 30px; color: white;">&#10007;</span>
            {% else %}
            <span style="font-size: 30px; color: white;">&#8987;</span>
            {% endif %}
        </div>
        <h1>Payout {{ payout.status|title }}</h1>
    </td>
</tr>
{% endblock %}

{% block content %}
{% if payout.status == 'completed' %}
<p>Great news! Your payout has been processed successfully.</p>
{% elif payout.status == 'approved' %}
<p>Your payout request has been approved and is being processed.</p>
{% elif payout.status == 'pending' %}
<p>Your payout request is being reviewed by our team.</p>
{% elif payout.status == 'rejected' %}
<p>Unfortunately, your payout request could not be processed.</p>
{% else %}
<p>Your payout status has been updated.</p>
{% endif %}

<div class="info-box" style="{% if payout.status == 'completed' %}background-color: #ecfdf5;{% elif payout.status == 'rejected' %}background-color: #fef2f2;{% endif %}">
    <h3>Payout Details</h3>
    <table class="info-table">
        <tr>
            <td>Amount</td>
            <td style="font-size: 20px; color: {% if payout.status == 'completed' %}#10B981{% else %}#1f2937{% endif %};">
                ${{ "%.2f"|format(payout.amount) }}
            </td>
        </tr>
        <tr>
            <td>Status</td>
            <td style="color: {% if payout.status == 'completed' %}#10B981{% elif payout.status == 'rejected' %}#EF4444{% else %}#F59E0B{% endif %};">
                {{ payout.status|title }}
            </td>
        </tr>
        <tr>
            <td>Method</td>
            <td>{{ payout.method|default('Bank Transfer') }}</td>
        </tr>
        {% if payout.transaction_id %}
        <tr>
            <td>Transaction ID</td>
            <td style="font-size: 12px;">{{ payout.transaction_id }}</td>
        </tr>
        {% endif %}
    </table>
</div>

{% if payout.status == 'rejected' and payout.reason %}
<div class="alert alert-error">
    <p><strong>Reason:</strong> {{ payout.reason }}</p>
</div>
{% endif %}

{% if payout.status == 'completed' %}
<div class="alert alert-success">
    <p>Funds should arrive in your account within 1-3 business days depending on your payment method.</p>
</div>
{% endif %}

<p class="text-center mt-30">
    <a href="{{ dashboard_url|default('https://tradesense.com/dashboard/payouts') }}" class="btn">View Payout History</a>
</p>
{% endblock %}
